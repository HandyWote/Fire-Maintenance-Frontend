# 消防协查 App 需求调查报告
汕头大学 TrySky 运维中心 龙思宇

## 一、业务简述
消防检查分为三种业务——维保、检测和评估。消防维保是三者中最复杂的任务，其中又分为巡查、测试和保养。保养内容较少，且频率较低，所以在维保中一般开展的多为巡查与测试任务。检测任务分为竣工检测与年度检测，两种检测性质与参与方都有所不同，竣工检测是工程完成时进行的，涉及施工方；而年度检测则是常规化的检测，涉及建筑项目的维保方。评估的主要内容是对建筑的消防安全进行综合评定，使用加权平均的方式，计算一个综合得分，用以衡量建筑消防安全是否达标。

## 二、整体维保系统功能分析
维保系统分为网页端和 App 端两个功能端，两个功能端分别承担不同角色。在系统使用的过程中，使用人员被分为两种不同的身份——工程师和操作员。工程师主要使用网页端，进行维保计划的制定及相关工作；操作员则需要到实地进行维保作业，主要使用 App 端，填写对应巡查和测试结果。以此，网页端将需要实现计划设计、制定的功能，App 端则需要实现信息填写的功能。
基于不同身份的工作情况，两种功能端所分配的功能种类当尽可能单一且网页端因操作设备基本为个人电脑，也可以用电脑软件的形式进行替代。

## 三、网页端维保系统原设计
### (一)计划制定功能
#### 1.核心对象
本系统由三个核心对象构成，即合同、客户、计划。其中在同一有效期内，一份合同对应一位客户；一位客户对应多个维保计划。三个对象都有自己的基本信息，除此之外，客户对象应可设定对应的人员、维保内容，其中维保内容可以设置对应的维保测试周期（每月、每季度、每半年、每年）；维保计划对象亦应允许设置人员和维保内容，其中人员当继承自客户对象的人员并允许在制定计划时临时修改，而维保计划对象的维保内容中所提供的可选项集合，应与客户对象中设置的维保内容一致（需展示其设置的测试周期）。

[](@replace=1)

#### 2.附：探讨可能的附加对象
为了体现维保内容在每次维保计划的巡查环节中的一致性和不同周期的维保内容在不同维保计划的测试环节中的差异性，本系统需要在维保计划象下，附加巡查对象和测试对象。这两个对象分别包含巡查内容和测试内容，其中巡查内容为所有该客户的维保内容，测试内容则为当次计划中所设定的维保内容。所以巡查内容直接完全继承自客户对象的维保内容，测试内容则继承自计划对象的维保内容，并允许在App端根据实际操作情况再进行临时调整。在制度维保计划时，维保内容按检测周期被人工选择，以此测试内容将从其中，继承地体现出维保内容的不同周期性。

#### 3.维保客户管理页面结构
##### 3.1主要结构

[](@replace=2)

##### 3.2建筑信息列表:
信息列表的列名:

| 列名示例 |
|----------|
| 建筑信息编辑页面结构 图4 |
| 3.3维保内容可选项； |
| 消防供配电设施 |
| 消防供配电设施 |

##### 3.3维保内容可选项；
- 消防供配电设施
- 消防供配电设施

#### 4.维保合同管理页面结构内容
- 合同列表：
  - 编辑界面：
- 合同基本信息：
  - 合同编号
  - 合同基本信息
  - 合同状态（有/失效）
  - 录入单位（对方单位）
  - 录入时间
  - 操作按钮（编辑、续签）
- 编辑界面：
  - 编辑界面：

#### 5.维保合同管理页面结构
##### 体系结构：

[](@replace=3)

- 维保计划列表：
- 客户维保计划列表：

### (二)维保结果访问功能
维保分为巡查与测试两个环节，在原设计中某设备的巡查与测试记录使用的时同一种数据结构，而只使用“类型”字段进行区分。在网页查看维保结果的界面为一列表，不按具体计划或者客户放入不同的表格以进行区分，仅提供按客户名称筛选的功能。
巡查与测试信息无法在网页端提前设置，只能由App端临时添加。网页端仅仅作为数据的访问以及管理工具，不作为数据的来源。数据对App端的过度依赖，可能会增加操作人员的操作负担。
表格结构如下：
- 表格结构如下：

### (三)其它信息访问功能
原系统还能访问报告保修以及人员签到信息。其中，除报告自动生成，来源可以为双端外，保修信息以及人员签到信息来源均为App端。但签到信息在网页端保留补签功能。
- 故障报修列表：
  - 报告列表：(链接)
    - 客户名称
    - 项目名称
    - 计划名称
    - 项目负责人
    - 维保人员
    - 设备名称
    - 报修项名称
    - 企业名称
    - 项目名称
    - 故障情况描述
    - 最后修改时间
    - 是否已处理
    - 录入单位
    - 是否在报告中隐藏（勾选项）
- 人员签到信息列表：
  - 客户名称
  - 类型（签到签退）
  - 签到人
  - 签到时间
  - GPS-X坐标
  - GPS-Y坐标
  - 签到地址

## 四、维保系统新结构设计
在这个结构中，维保内容包含若干设备（或系统，下文直接用“设备”囊括两者）项，设备项的本身和具体内容都可由用户进行调整。新系统可以提供默认模版，以供无自定义需求的用户直接套用。
客户对应项目计划。在一个项目计划下，可以制定若干期计划，如某月期计划、某季期计划。在制定某期计划时，需要设置对应维保内容，这些内容来自于客户的对应周期的待维保设备，如某季期计划的维保内容只会包含按季度维保的设备，而不会包含按月度维保的设备。此外期计划被分为巡查计划和测试计划两个部分，这两个部分需要分别分配维保内容，即将期计划所囊括的维保内容分组至巡查计划和测试计划中，并允许一个设备同时位于巡查计划与测试计划中。对于某期的巡查计划和测试计划，允许且仅允许其中一个为空。
在若干期计划制定完成后，可以通过用户指导生成执行计划。执行计划为最终发送到App端的计划。在制定执行计划时，用户需要挑选复数（单数）个期计划来合成（充当）执行计划的两个部分——巡查执行计划和测试执行计划，巡查执行计划由所挑选的期计划的巡查计划合成（充当），测试执行计划由所挑选的期计划的测试计划合成（充当）。在挑选期计划时，将只允许挑选大于等于当前制定的执行计划的周期的期计划，如制定7月执行计划可以选择第三季期计划和7月期计划，其中第三季为季度是比月度更大的周期，故可以被选择。
保养任务属于次要任务，数量较少，可以让操作员直接在App端进行添加，无需提前制定计划，使操作更加灵活。

## 五、消防检测系统功能分析
消防检测系统用于建筑设施的竣工检测和年度检测。竣工检测即建筑时竣工后进行的检测，施工方对建筑的消防安全方面负有一定责任，所以检测方需要记录施工方的信息；年度检测为每年一次的惯例的消防检测，维保方对建筑的消防安全方面负有一定责任，检测方需要记录维保方信息。
消防检测的范围分为整体和局部检测，局部检测常在建筑局部装修完成后进行。局部检测则应当进一步填写具体的检测部位。
目前在检测系统中，竣工检测与年度检测使用的检测标准是统一的，但在实际检测过程中，在对如老旧住宅等以旧标准建成的建筑年度检测中，是不适合沿用最新的检测标准的。所以如果能实现依据具体项目选择不同的检测标准，将一定程度上解决这种问题。

## 六、消防检测系统原设计
（内容缺失或未提供详细描述）

## 七、消防检测系统修改建议
（内容缺失或未提供详细描述）

## 八、消防评估系统
消防评估系统的核心就是使用加权平均的方法，计算综合评分。消防评估涉及三个分项目——建筑防火、设施器材及安全管理。则三个分项目又各自有若干不同的单项指标。不仅三个分项目的权重各不相同，同一个分项目内的指标间权重亦各不相同。
当建筑项目不具有某项指标的系统设备条件时，这项指标当作废，其它单项指标所对应的分数，应当通过剩余权重关系进行重新计算。

- 一类高层民用建筑
- 二类高层民用建筑
- 高层厂房
- 高层库房
- 单多层民用建筑
- 单多层库房
- 单多层厂房
- 地下建筑
- 隧道、涵洞
- 其他建筑
- 消防供配电设施
- 火灾自动报警系统
- 电气火灾监控系统
- 可燃气体探测报警系统
- 消防供水设施
- 消火栓（消防炮）灭火系统
- 自动喷水灭火系统
- 泡沫灭火系统
- 气体灭火系统
- 防/排烟系统
- 应急照明和疏散指示标志
- 应急广播系统
- 消防专用电话
- 防火分隔设施
- 细水雾灭火系统
- 干粉灭火系统
- 灭火器
- 消防电梯系统
- 可燃气体探测报警系统
- 消防供水设施
- 消火栓（消防炮）灭火系统
- 自动喷水灭火系统
- 泡沫灭火系统
- 气体灭火系统
- 防/排烟系统
- 应急照明和疏散指示标志
- 应急广播系统
- 消防专用电话
- 防火分隔设施
- 细水雾灭火系统
- 干粉灭火系统
- 灭火器
- 消防电梯系统

### 客户维保计划列表：
| 客户名称 | 项目名称 | 计划总数 | 未开始计划数 | 执行中计划数 | 待生成报告计划数 | 已完成数 | 已盖章数 | 完成百分比 |
|----------|----------|----------|--------------|--------------|------------------|----------|----------|------------|

### 客户维保计划列表：
| 客户名称 | 项目（计划）名称 | 起止时间 | 计划状态 | 录入单位 | 编辑按钮 | 创建时间 |
|----------|------------------|----------|----------|----------|----------|----------|

### 巡检设备信息：
| 客户名称 | 项目名称 | 所在楼层 | 巡检设备 | 具体位置 | 巡检结果 | 操作员 | 类型 | 日期 | 登记时间 | 计划类型 |
|----------|----------|----------|----------|----------|----------|--------|------|------|----------|----------|

### 故障报修列表：
| 客户名称 | 项目名称 | 计划名称 | 项目负责人 | 维保人员 | 设备名称 | 报修项名称 | 企业名称 | 项目名称 | 故障情况描述 | 最后修改时间 | 是否已处理 | 录入单位 | 是否在报告中隐藏（勾选项） |
|----------|----------|----------|------------|----------|----------|------------|----------|----------|--------------|--------------|------------|----------|--------------------------|

### 人员签到信息列表：
| 客户名称 | 类型（签到签退） | 签到人 | 签到时间 | GPS-X坐标 | GPS-Y坐标 | 签到地址 |
|----------|------------------|--------|----------|-----------|-----------|----------|